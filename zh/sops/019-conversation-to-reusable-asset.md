# 从开发沟通到可复用资产

> 把日常开发中的沟通、决策、踩坑沉淀成可复用的技能和文档

**文档编号**: 019
**日期**: 2026-01-01
**标签**: `知识管理` `技能创建` `资产沉淀` `最佳实践`

---

## 概述

开发过程中产生大量有价值的信息：需求讨论、设计决策、Bug 修复、代码评审……这些信息如果只存在于聊天记录和个人记忆中，就会随时间消散。

本 SOP 定义了一套方法论：**识别可沉淀的沟通内容 → 抽象为可复用形式 → 形成团队资产**。

核心理念：**今天的沟通 = 明天的资产**

---

## 第一部分：识别可沉淀的信号

### 什么样的沟通值得沉淀？

| 信号 | 说明 | 示例 |
|------|------|------|
| **重复出现** | 同一个问题被问/解决了 2 次以上 | "这个接口怎么调用？"被问了 3 次 |
| **踩过坑** | 花了时间排查的问题 | 某个 Bug 调试了 2 小时才定位 |
| **做了决策** | 为什么选 A 不选 B | 选择 React Query 而非 SWR 的原因 |
| **反复修改** | 代码评审中同一类问题被指出多次 | "这里应该用 `Math.floor` 不是 `Math.ceil`" |
| **临时方案有效** | 先临时解决，验证有效了 | 某个 workaround 稳定运行 2 周 |

### 识别时机

- **开发中**：解决问题后立刻记录
- **评审中**：发现重复问题时标记
- **复盘时**：项目结束后回顾
- **被问时**：回答同样问题第 2 次时

---

## 第二部分：沉淀为何种形式

### 形式选择矩阵

| 沟通类型 | 沉淀形式 | 存放位置 |
|---------|---------|---------|
| 反复被问的问题 | FAQ 文档 | 项目 README / 团队 Wiki |
| 踩过的坑 | 排查手册 / 防护规则 | 项目 docs/ / lint 规则 |
| 设计决策 | ADR (Architecture Decision Record) | 项目 docs/adr/ |
| 代码评审共识 | 团队编码规范 | 项目 CONTRIBUTING.md |
| 重复操作 | 自动化脚本 | 项目 scripts/ |
| 思维方式 | Claude 技能 | ~/.claude/skills/ |
| 完整流程 | SOP 文档 | 蓝皮书 / 团队 Wiki |

### 关键区分：规范 vs 思维

| 规范 | 思维 |
|------|------|
| 告诉你「怎么做」 | 告诉你「为什么这样想」 |
| 列出检查清单 | 解释决策逻辑 |
| 可以机械执行 | 需要理解后应用 |
| 适合写成 lint 规则 | 适合写成技能 |

**示例对比**：

```
# 规范（适合 lint 规则）
"剩余时间必须使用 Math.floor 向下取整"

# 思维（适合技能）
"用户看时间是倒计时心理，显示 3 天意味着 3 天后可用。
向下取整让用户预期和实际一致，向上取整会让用户困惑。"
```

---

## 第三部分：抽象的层次

### 从具体到抽象的演进

```
Layer 1: 具体实例
    ↓
Layer 2: 项目规范
    ↓
Layer 3: 通用原则
    ↓
Layer 4: 思维方式
```

**案例演示**：

| 层次 | 内容 |
|------|------|
| 具体实例 | "质押页面的剩余天数用 `Math.floor`" |
| 项目规范 | "所有倒计时显示使用 `Math.floor`" |
| 通用原则 | "时间显示向下取整，符合用户倒计时心理" |
| 思维方式 | "做 UI 决策前先问：用户在想什么？" |

### 何时停在哪一层？

- **具体实例**：一次性问题，不需要沉淀
- **项目规范**：项目内复用，写进项目文档
- **通用原则**：跨项目复用，写进团队规范
- **思维方式**：指导所有决策，写成技能

---

## 第四部分：沉淀流程

### 标准流程

```
1. 捕获
   ↓ 识别信号，记录原始内容
2. 分析
   ↓ 判断价值，确定形式
3. 抽象
   ↓ 从具体到通用
4. 存放
   ↓ 放到正确位置
5. 连接
   ↓ 更新索引，关联相关内容
6. 验证
   ↓ 实际使用，收集反馈
7. 迭代
   根据反馈优化
```

### 快速沉淀模板

遇到可沉淀的信号时，快速记录：

```markdown
## 标题：{一句话描述}

### 背景
- 什么场景遇到这个问题？
- 为什么会遇到？

### 决策/解决方案
- 怎么解决的？
- 为什么这样解决？

### 可复用点
- 什么情况下可以复用？
- 抽象成什么形式？
```

---

## 第五部分：技能创建指南

当沟通内容涉及**思维方式**时，应沉淀为 Claude 技能。

### 技能 vs 文档的区别

| 技能 | 文档 |
|------|------|
| 影响 Claude 行为 | 供人阅读参考 |
| 主动触发 | 被动查询 |
| 传递思维方式 | 传递知识信息 |
| 持续生效 | 需要时查阅 |

### 技能创建原则

1. **传递思维，不是规范**
   - ❌ "必须用 Math.floor"
   - ✅ "用户看倒计时，向下取整符合预期"

2. **解释为什么，不是怎么做**
   - ❌ "收益用绿色 `text-green-500`"
   - ✅ "绿色 = 赚钱，用户心智模型"

3. **抽象到可复用**
   - ❌ "质押页面剩余天数向下取整"
   - ✅ "时间显示向下取整，符合倒计时心理"

4. **名字反映本质**
   - ❌ `staking-ui-patterns`（太具体）
   - ✅ `user-first-ui`（反映核心思维）

### 技能目录结构

```
~/.claude/skills/
└── skill-name/
    └── SKILL.md      # 唯一必需文件
```

---

## 第六部分：案例分析

### 案例：从质押页面修改到 user-first-ui 技能

**背景**：
开发质押页面时，用户提出了多个修改意见：
- 剩余天数显示用 `Math.floor` 而非 `Math.ceil`
- 收益相关区域统一用绿色
- 本金和收益的提取条件分开展示
- 质押成功后立即刷新数据

**第一版（错误）**：
```markdown
# staking-ui-patterns

- 剩余天数使用 Math.floor
- 收益用 green-50 到 emerald-50 渐变
- canWithdraw 和 canClaimReward 分开判断
- isStakeSuccess 后调用 refetchPoolInfo()
```

问题：太具体，只能用于这个项目。

**第二版（改进）**：
```markdown
# DeFi Staking UI Patterns

## 时间显示规范
- 向下取整
- 粒度随紧迫程度变化
...
```

问题：是规范清单，没有解释为什么。

**第三版（正确）**：
```markdown
# User-First UI 设计思维

做 UI 决策前先问：**用户在想什么？**

## 时间：用户视角是倒计时

用户关心「还剩多久」，不是「过了多久」。

**决策**：剩余时间向下取整
- 用户看到「剩余 3 天」→ 心理预期是 3 天后能操作
- 向上取整会让用户困惑「明明显示 4 天，怎么 3 天就好了」
...
```

关键转变：
- 名字从 `staking-ui-patterns` → `user-first-ui`
- 内容从「规范清单」→「思维方式 + 决策推理」
- 范围从「质押页面」→「所有 UI 设计」

---

## 第七部分：沉淀检查清单

### 日常开发时

- [ ] 遇到问题解决后：这个问题值得记录吗？
- [ ] 回答问题时：这是第几次回答这个问题？
- [ ] 代码评审时：这个问题之前指出过吗？

### 做了决策时

- [ ] 记录决策上下文（为什么选 A 不选 B）
- [ ] 判断是否需要写成 ADR
- [ ] 相关决策是否形成模式

### 项目复盘时

- [ ] 有哪些值得沉淀的经验？
- [ ] 踩过的坑写成防护规则了吗？
- [ ] 临时方案验证有效的升级为正式规范了吗？

### 创建技能时

- [ ] 传递的是思维方式还是规范清单？
- [ ] 解释了为什么还是只说了怎么做？
- [ ] 名字反映本质还是太具体？
- [ ] 抽象程度是否足够复用？

---

## 常见问题

### Q: 沉淀太多会不会信息过载？

A: 关键是分层管理：
- 高频使用 → 技能（自动触发）
- 偶尔查阅 → 文档（按需检索）
- 一次性 → 不沉淀

### Q: 如何判断抽象到什么程度？

A: 问自己：这个经验在其他项目/场景能用吗？
- 只在当前项目有用 → 项目文档
- 同类项目能用 → 团队规范
- 所有项目能用 → 通用技能

### Q: 技能和文档有什么区别？

A:
- 技能：影响 Claude 行为，主动生效
- 文档：供人阅读，被动查询

---

## 参考资源

- [Claude Skills 创建指南](./006-claude-skill-creation-sop.md)
- [ADR (Architecture Decision Records)](https://adr.github.io/)
- [团队知识管理最佳实践](https://www.notion.so/help/guides/knowledge-management)

---

*沉淀不是额外工作，是让今天的努力明天还能产生价值。*
