# NotebookLM 集成助手 PRD

> 通过 Claude Code 查询 Google NotebookLM 笔记本，获取基于文档的 AI 回答。

**版本**: MVP v1.0
**日期**: 2025-12-28
**作者**: bitking

---

## 1. 产品背景

NotebookLM 是 Google 推出的 AI 笔记本工具，能基于用户上传的文档提供精准回答，大幅减少 AI 幻觉。但目前只能通过网页访问，无法与 Claude Code 等开发工具集成。

**痛点**：
- 需要频繁切换浏览器查询文档
- 无法在编码过程中直接获取文档知识
- 查询结果无法自动整合到工作流

## 2. 产品目标

让 Claude Code 用户能直接查询 NotebookLM 笔记本，实现：
- 编码时无缝获取文档知识
- 减少上下文切换
- AI 回答有文档支撑，减少幻觉

## 3. 目标用户

- Claude Code 用户
- 有大量文档需要查阅的开发者
- 知识工作者（研究、写作）

## 4. 功能需求

### 4.1 认证管理

| 功能 | 描述 | 优先级 |
|------|------|--------|
| 初始认证 | 浏览器弹窗登录 Google 账号 | P0 |
| 认证状态检查 | 查看当前认证状态 | P0 |
| 重新认证 | Token 过期后重新登录 | P1 |
| 清除认证 | 登出并清除本地凭证 | P2 |

### 4.2 笔记本库管理

| 功能 | 描述 | 优先级 |
|------|------|--------|
| 添加笔记本 | 通过 URL 添加到本地库 | P0 |
| 列出笔记本 | 查看已添加的笔记本 | P0 |
| 搜索笔记本 | 按关键词搜索 | P1 |
| 设置默认笔记本 | 激活常用笔记本 | P1 |
| 删除笔记本 | 从库中移除 | P2 |

### 4.3 查询功能

| 功能 | 描述 | 优先级 |
|------|------|--------|
| 提问查询 | 向笔记本提问，获取 AI 回答 | P0 |
| 指定笔记本查询 | 查询特定笔记本 | P0 |
| 显示浏览器调试 | 可视化查询过程 | P2 |

## 5. 非功能需求

| 项目 | 要求 |
|------|------|
| 查询响应时间 | ≤ 10 秒 |
| 认证有效期 | 7 天 |
| 数据存储 | 本地加密存储 |
| 浏览器依赖 | Chromium (自动安装) |

## 6. 技术方案

- **浏览器自动化**: Patchright (Playwright fork)
- **运行环境**: Python venv (自动管理)
- **数据存储**: JSON 文件 (本地)
- **入口**: run.py 统一包装器

## 7. MVP 范围

**包含**:
- 认证管理（登录/状态/登出）
- 笔记本库（添加/列表/激活）
- 基础查询（提问/获取回答）

**不包含**:
- 批量查询
- 查询历史记录
- 多账号支持

## 8. 成功指标

- 查询成功率 ≥ 95%
- 用户无需手动管理浏览器
- 首次配置时间 ≤ 5 分钟

---

**参考**: [NotebookLM 官网](https://notebooklm.google.com)
